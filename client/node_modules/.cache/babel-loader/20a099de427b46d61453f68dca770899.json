{"ast":null,"code":"import _slicedToArray from \"/Users/saryjamie/Desktop/finalProject/mondayUpdates/theworldnetwork/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/saryjamie/Desktop/finalProject/mondayUpdates/theworldnetwork/client/src/components/Form.js\";\nimport React, { useState, useEffect } from \"react\"; // import ReactDOM from 'react-dom';\n//import Modal from 'react-modal';\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport API from \"../utils/API\";\n\nfunction form(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentUser = _useState2[0],\n      setCurrentUser = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      logged = _useState6[0],\n      setLogged = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      username = _useState8[0],\n      setUsername = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      password = _useState10[0],\n      setPassword = _useState10[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  var signOut = function signOut() {\n    API.logOut().then(function (data) {\n      console.log(data);\n    });\n    window.location.reload();\n  };\n\n  var signIn = function signIn() {\n    API.logIn({\n      username: username,\n      password: password\n    }).then(function (user) {\n      console.log(\"user object.....L \" + JSON.stringify(user));\n      console.log(\"staaaaaaaaaaaaatus teeeeeeeeextL=: \" + user.statusText);\n      setLogged(true);\n      setShow(false);\n      console.log(currentUser);\n      props.changeCurrentUser({\n        username: user.data.user.local.username,\n        id: user.data.user._id\n      });\n    });\n  };\n\n  var signUp = function signUp() {\n    setShow(false);\n    API.signUp({\n      username: username,\n      password: password\n    }).then(function (user) {\n      if (user.data.error) {\n        console.log(user.error);\n      } else {\n        console.log(\"user object.....L \" + JSON.stringify(user));\n        console.log(\"staaaaaaaaaaaaatus teeeeeeeeextL=: \" + user.statusText); //setLogged(true);\n        //setShow(false)\n\n        console.log(currentUser);\n      } //props.changeCurrentUser({username:user.data.user.local.username,id:user.data.user._id})\n\n    });\n  };\n\n  var handleInputChange = function handleInputChange(e) {\n    e.target.name === \"username\" ? setUsername(e.target.value) : setPassword(e.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    id: \"modal-test\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, logged ? React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-warning\",\n    onClick: signOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Sign Out\") : React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-warning\",\n    onClick: handleShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Sign in\"), React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Sign in\")), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    for: \"exampleInputEmail1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Email address\"), React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    name: \"username\",\n    value: username,\n    onChange: handleInputChange,\n    \"aria-describedby\": \"emailHelp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    for: \"exampleInputPassword1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    name: \"password\",\n    value: password,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  })))), React.createElement(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group form-check d-flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary mr-auto\",\n    onClick: signIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-secondary ml-auto\",\n    onClick: signUp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Signup\")))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }));\n}\n\nexport default form;","map":{"version":3,"sources":["/Users/saryjamie/Desktop/finalProject/mondayUpdates/theworldnetwork/client/src/components/Form.js"],"names":["React","useState","useEffect","Button","Modal","API","form","props","currentUser","setCurrentUser","show","setShow","logged","setLogged","username","setUsername","password","setPassword","handleClose","handleShow","signOut","logOut","then","data","console","log","window","location","reload","signIn","logIn","user","JSON","stringify","statusText","changeCurrentUser","local","id","_id","signUp","error","handleInputChange","e","target","name","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// import ReactDOM from 'react-dom';\n//import Modal from 'react-modal';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport API from \"../utils/API\";\n\nfunction form(props) {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [show, setShow] = useState(false);\n  const [logged, setLogged] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const signOut = () => {\n    API.logOut().then(data => {\n      console.log(data);\n    });\n    window.location.reload();\n  };\n\n  const signIn = () => {\n    API.logIn({ username: username, password: password }).then(user => {\n      console.log(\"user object.....L \" + JSON.stringify(user));\n      console.log(\"staaaaaaaaaaaaatus teeeeeeeeextL=: \" + user.statusText);\n      setLogged(true);\n      setShow(false);\n      console.log(currentUser);\n      props.changeCurrentUser({\n        username: user.data.user.local.username,\n        id: user.data.user._id\n      });\n    });\n  };\n\n  const signUp = () => {\n    setShow(false);\n    API.signUp({ username: username, password: password }).then(user => {\n      if (user.data.error) {\n        console.log(user.error);\n      } else {\n        console.log(\"user object.....L \" + JSON.stringify(user));\n        console.log(\"staaaaaaaaaaaaatus teeeeeeeeextL=: \" + user.statusText);\n\n        //setLogged(true);\n        //setShow(false)\n        console.log(currentUser);\n      }\n      //props.changeCurrentUser({username:user.data.user.local.username,id:user.data.user._id})\n    });\n  };\n\n  const handleInputChange = e => {\n    e.target.name === \"username\"\n      ? setUsername(e.target.value)\n      : setPassword(e.target.value);\n  };\n\n  return (\n    <div id=\"modal-test\">\n      {logged ? (\n        <button type=\"button\" class=\"btn btn-warning\" onClick={signOut}>\n          Sign Out\n        </button>\n      ) : (\n        <button type=\"button\" class=\"btn btn-warning\" onClick={handleShow}>\n          Sign in\n        </button>\n      )}\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Sign in</Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>\n          <div>\n            <div className=\"form-group\">\n              <label for=\"exampleInputEmail1\">Email address</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                name=\"username\"\n                value={username}\n                onChange={handleInputChange}\n                aria-describedby=\"emailHelp\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label for=\"exampleInputPassword1\">Password</label>\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                name=\"password\"\n                value={password}\n                onChange={handleInputChange}\n              />\n            </div>\n          </div>\n        </Modal.Body>\n\n        <Modal.Footer>\n          <div className=\"form-group form-check d-flex\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary mr-auto\"\n              onClick={signIn}\n            >\n              Login\n            </button>\n            <button\n              type=\"submit\"\n              className=\"btn btn-secondary ml-auto\"\n              onClick={signUp}\n            >\n              Signup\n            </button>\n          </div>\n        </Modal.Footer>\n      </Modal>\n      <br></br>\n    </div>\n  );\n}\n\nexport default form;\n"]},"metadata":{},"sourceType":"module"}